2025-06-27 15:18:20,594 INFO Run parameters: {'log_level': 'DEBUG', 'config': '/Users/takagikouichi/Documents/GitHub/Maple/config/train_config.yml', 'episodes': 100, 'save': 'model.pt', 'tensorboard': False, 'ppo_epochs': 4, 'clip': None, 'gae_lambda': None, 'value_coef': None, 'entropy_coef': None, 'gamma': None, 'parallel': 1}
2025-06-27 15:18:21,412 DEBUG environment reset: cleared action queues and mappings
2025-06-27 15:18:21,418 DEBUG = connection is CONNECTING
2025-06-27 15:18:21,418 DEBUG > GET /showdown/websocket HTTP/1.1
2025-06-27 15:18:21,418 DEBUG > Host: localhost:8000
2025-06-27 15:18:21,418 DEBUG > Upgrade: websocket
2025-06-27 15:18:21,418 DEBUG > Connection: Upgrade
2025-06-27 15:18:21,418 DEBUG > Sec-WebSocket-Key: KIvzSP/r82YBOe9Y13P52g==
2025-06-27 15:18:21,419 DEBUG > Sec-WebSocket-Version: 13
2025-06-27 15:18:21,419 DEBUG > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
2025-06-27 15:18:21,419 DEBUG > User-Agent: Python/3.12 websockets/15.0.1
2025-06-27 15:18:21,419 DEBUG = connection is CONNECTING
2025-06-27 15:18:21,420 DEBUG > GET /showdown/websocket HTTP/1.1
2025-06-27 15:18:21,420 DEBUG > Host: localhost:8000
2025-06-27 15:18:21,420 DEBUG > Upgrade: websocket
2025-06-27 15:18:21,420 DEBUG > Connection: Upgrade
2025-06-27 15:18:21,420 DEBUG > Sec-WebSocket-Key: JIDlju4qpF8FGwPA9vHDOg==
2025-06-27 15:18:21,420 DEBUG > Sec-WebSocket-Version: 13
2025-06-27 15:18:21,420 DEBUG > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
2025-06-27 15:18:21,420 DEBUG > User-Agent: Python/3.12 websockets/15.0.1
2025-06-27 15:18:21,426 DEBUG < HTTP/1.1 101 Switching Protocols
2025-06-27 15:18:21,426 DEBUG < Upgrade: websocket
2025-06-27 15:18:21,426 DEBUG < Connection: Upgrade
2025-06-27 15:18:21,426 DEBUG < Sec-WebSocket-Accept: drZvx0M5IaXV+JKpdeHjomVQBWQ=
2025-06-27 15:18:21,426 DEBUG = connection is OPEN
2025-06-27 15:18:21,429 DEBUG < HTTP/1.1 101 Switching Protocols
2025-06-27 15:18:21,429 DEBUG < Upgrade: websocket
2025-06-27 15:18:21,429 DEBUG < Connection: Upgrade
2025-06-27 15:18:21,429 DEBUG < Sec-WebSocket-Accept: IcVGH9ZkfXzZzi+7WpjWSCqeUdU=
2025-06-27 15:18:21,429 DEBUG = connection is OPEN
2025-06-27 15:18:22,258 DEBUG < TEXT '|updateuser| Guest 1|0|170|{"blockChallenges":f...c|[Gen 1] Custom Game,c' [8022 bytes]
2025-06-27 15:18:22,260 DEBUG < TEXT '|challstr|4|ea7844a98f25c565ed71ce74e6cdc6da272...0058dc77b6717fa96a7d4af' [268 bytes]
2025-06-27 15:18:22,260 DEBUG < TEXT '|updateuser| Guest 2|0|1|{"blockChallenges":fal...c|[Gen 1] Custom Game,c' [8020 bytes]
2025-06-27 15:18:22,261 DEBUG < TEXT '|challstr|4|d1a025dbacd83fa1c92feee5f006952caaa...00167189a5d0626bba5e3cf' [268 bytes]
2025-06-27 15:18:22,262 DEBUG > TEXT '|/trn EnvPlayer 1,0,' [20 bytes]
2025-06-27 15:18:22,262 DEBUG > TEXT '|/trn EnvPlayer 2,0,' [20 bytes]
2025-06-27 15:18:22,359 DEBUG < TEXT '|updatesearch|{"searching":[],"games":null}' [43 bytes]
2025-06-27 15:18:22,359 DEBUG < TEXT '|updateuser| EnvPlayer 1|1|170|{"blockChallenge...:false,"language":null}' [354 bytes]
2025-06-27 15:18:22,360 DEBUG < TEXT '|updatesearch|{"searching":[],"games":null}' [43 bytes]
2025-06-27 15:18:22,362 DEBUG < TEXT '|updateuser| EnvPlayer 2|1|1|{"blockChallenges"...:false,"language":null}' [352 bytes]
2025-06-27 15:18:22,363 DEBUG > TEXT '|/utm Corviknight||flameorb|pressure|bodypress,...,252,,252|||||,,,,,Dark' [610 bytes]
2025-06-27 15:18:22,363 DEBUG > TEXT '|/challenge envplayer1, gen9bssregi' [35 bytes]
2025-06-27 15:18:22,363 DEBUG > TEXT '|/utm Corviknight||flameorb|pressure|bodypress,...,252,,252|||||,,,,,Dark' [610 bytes]
2025-06-27 15:18:22,365 DEBUG > TEXT '|/challenge envplayer2, gen9bssregi' [35 bytes]
2025-06-27 15:18:22,500 DEBUG < TEXT '|pm| EnvPlayer 2| EnvPlayer 1|/challenge gen9bssregi|gen9bssregi|||' [67 bytes]
2025-06-27 15:18:22,500 DEBUG < TEXT '|pm| EnvPlayer 2| EnvPlayer 1|/log EnvPlayer 2 wants to battle!' [63 bytes]
2025-06-27 15:18:22,500 DEBUG < TEXT '|pm| EnvPlayer 2| EnvPlayer 1|/challenge gen9bssregi|gen9bssregi|||' [67 bytes]
2025-06-27 15:18:22,500 DEBUG < TEXT '|pm| EnvPlayer 2| EnvPlayer 1|/log EnvPlayer 2 wants to battle!' [63 bytes]
2025-06-27 15:18:22,501 DEBUG > TEXT '|/utm Corviknight||flameorb|pressure|bodypress,...,252,,252|||||,,,,,Dark' [610 bytes]
2025-06-27 15:18:22,501 DEBUG > TEXT '|/accept envplayer2' [19 bytes]
2025-06-27 15:18:22,502 DEBUG < TEXT '|pm| EnvPlayer 1| EnvPlayer 2|/challenge' [40 bytes]
2025-06-27 15:18:22,502 DEBUG < TEXT '|pm| EnvPlayer 1| EnvPlayer 2|/challenge' [40 bytes]
2025-06-27 15:18:22,503 DEBUG < TEXT '|updatesearch|{"searching":[],"games":null}' [43 bytes]
2025-06-27 15:18:22,503 DEBUG < TEXT '|updatesearch|{"searching":[],"games":null}' [43 bytes]
2025-06-27 15:18:22,504 DEBUG < TEXT '|updatesearch|{"searching":[],"games":{"battle-... 9] BSS Reg I Battle"}}' [94 bytes]
2025-06-27 15:18:22,504 DEBUG < TEXT '|updatesearch|{"searching":[],"games":{"battle-... 9] BSS Reg I Battle"}}' [94 bytes]
2025-06-27 15:18:22,504 DEBUG < TEXT '>battle-gen9bssregi-19776\n|init|battle\n|title...er 1\n|j|☆EnvPlayer 2\n' [92 bytes]
2025-06-27 15:18:22,504 DEBUG < TEXT '|updatesearch|{"searching":[],"games":{"battle-... 9] BSS Reg I Battle"}}' [94 bytes]
2025-06-27 15:18:22,504 DEBUG < TEXT '|updatesearch|{"searching":[],"games":{"battle-... 9] BSS Reg I Battle"}}' [94 bytes]
2025-06-27 15:18:22,504 DEBUG < TEXT '>battle-gen9bssregi-19776\n|init|battle\n|title...er 2\n|j|☆EnvPlayer 1\n' [110 bytes]
2025-06-27 15:18:22,505 DEBUG < TEXT '>battle-gen9bssregi-19776\n|j|☆EnvPlayer 1' [43 bytes]
2025-06-27 15:18:22,553 DEBUG < TEXT '|popup|envplayer2 is not challenging you. Maybe...ed before you accepted?' [83 bytes]
2025-06-27 15:18:22,712 DEBUG < TEXT '>battle-gen9bssregi-19776\n|t:|1751005102\n|gametype|singles' [58 bytes]
2025-06-27 15:18:22,712 DEBUG < TEXT '>battle-gen9bssregi-19776\n|player|p1|EnvPlayer 2|1|' [51 bytes]
2025-06-27 15:18:22,712 DEBUG < TEXT '>battle-gen9bssregi-19776\n|t:|1751005102\n|gametype|singles' [58 bytes]
2025-06-27 15:18:22,712 DEBUG < TEXT '>battle-gen9bssregi-19776\n|player|p1|EnvPlayer 2|1|' [51 bytes]
2025-06-27 15:18:22,713 DEBUG < TEXT '>battle-gen9bssregi-19776\n|player|p2|EnvPlayer...L50, F|\n|teampreview|3' [557 bytes]
2025-06-27 15:18:22,714 DEBUG < TEXT '>battle-gen9bssregi-19776\n|request|{"teamPrevi...llized":""}]},"rqid":2}' [2362 bytes]
2025-06-27 15:18:22,714 DEBUG < TEXT '>battle-gen9bssregi-19776\n|player|p2|EnvPlayer...L50, F|\n|teampreview|3' [557 bytes]
2025-06-27 15:18:22,714 DEBUG < TEXT '>battle-gen9bssregi-19776\n|request|{"teamPrevi...llized":""}]},"rqid":3}' [2362 bytes]
2025-06-27 15:18:22,714 DEBUG [DBG] player_1 last_request={}
2025-06-27 15:18:22,715 DEBUG [DBG] player_0 last_request={}
2025-06-27 15:18:22,816 DEBUG [DBG] player_1 send team preview request for battle-gen9bssregi-19776
2025-06-27 15:18:22,816 DEBUG [DBG] player_1 waiting team preview action (qsize=0)
2025-06-27 15:18:22,816 DEBUG [DBG] player_0 send team preview request for battle-gen9bssregi-19776
2025-06-27 15:18:22,816 DEBUG [DBG] player_0 waiting team preview action (qsize=0)
2025-06-27 15:18:22,825 DEBUG [DBG] player_0: 0 moves, 5 switches (force_switch=False)
2025-06-27 15:18:22,825 DEBUG [DBG] player_0 available_switches: ['dragapult(HP:100.0%, fainted=False, active=False)', 'ursaluna(HP:100.0%, fainted=False, active=False)', 'tinglu(HP:100.0%, fainted=False, active=False)', 'alomomola(HP:100.0%, fainted=False, active=False)', 'hydreigon(HP:100.0%, fainted=False, active=False)']
2025-06-27 15:18:22,825 DEBUG [DBG] player_1: 0 moves, 5 switches (force_switch=False)
2025-06-27 15:18:22,825 DEBUG [DBG] player_1 available_switches: ['dragapult(HP:100.0%, fainted=False, active=False)', 'ursaluna(HP:100.0%, fainted=False, active=False)', 'tinglu(HP:100.0%, fainted=False, active=False)', 'alomomola(HP:100.0%, fainted=False, active=False)', 'hydreigon(HP:100.0%, fainted=False, active=False)']
2025-06-27 15:18:22,826 DEBUG [DBG] player_0 team preview message /team 125 (EnvPlayer 1)
2025-06-27 15:18:22,829 ERROR Task exception was never retrieved
future: <Task finished name='Task-67' coro=<PSClient._handle_message() done, defined at /Users/takagikouichi/Documents/GitHub/Maple/copy_of_poke-env/poke_env/ps_client/ps_client.py:128> exception=AttributeError("'Battle' object has no attribute 'rqid'")>
Traceback (most recent call last):
  File "/Users/takagikouichi/Documents/GitHub/Maple/copy_of_poke-env/poke_env/ps_client/ps_client.py", line 197, in _handle_message
    raise exception
  File "/Users/takagikouichi/Documents/GitHub/Maple/copy_of_poke-env/poke_env/ps_client/ps_client.py", line 142, in _handle_message
    await self._handle_battle_message(split_messages)  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/takagikouichi/Documents/GitHub/Maple/copy_of_poke-env/poke_env/player/player.py", line 402, in _handle_battle_message
    await self._handle_battle_request(battle, from_teampreview_request=True)
  File "/Users/takagikouichi/Documents/GitHub/Maple/src/env/env_player.py", line 168, in _handle_battle_request
    battle.rqid,
    ^^^^^^^^^^^
AttributeError: 'Battle' object has no attribute 'rqid'
2025-06-27 15:18:22,830 DEBUG [DBG] player_1 team preview message /team 126 (EnvPlayer 2)
2025-06-27 15:18:22,831 DEBUG [DBG] race_get start qsize=0 events=[False, False]
2025-06-27 15:18:22,831 ERROR Task exception was never retrieved
future: <Task finished name='Task-65' coro=<PSClient._handle_message() done, defined at /Users/takagikouichi/Documents/GitHub/Maple/copy_of_poke-env/poke_env/ps_client/ps_client.py:128> exception=AttributeError("'Battle' object has no attribute 'rqid'")>
Traceback (most recent call last):
  File "/Users/takagikouichi/Documents/GitHub/Maple/copy_of_poke-env/poke_env/ps_client/ps_client.py", line 197, in _handle_message
    raise exception
  File "/Users/takagikouichi/Documents/GitHub/Maple/copy_of_poke-env/poke_env/ps_client/ps_client.py", line 142, in _handle_message
    await self._handle_battle_message(split_messages)  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/takagikouichi/Documents/GitHub/Maple/copy_of_poke-env/poke_env/player/player.py", line 402, in _handle_battle_message
    await self._handle_battle_request(battle, from_teampreview_request=True)
  File "/Users/takagikouichi/Documents/GitHub/Maple/src/env/env_player.py", line 168, in _handle_battle_request
    battle.rqid,
    ^^^^^^^^^^^
AttributeError: 'Battle' object has no attribute 'rqid'
2025-06-27 15:18:32,834 ERROR [TIMEOUT] race_get queue=0 events=[False, False] exc=
